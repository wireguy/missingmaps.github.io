<!DOCTYPE html>
<!--[if lt IE 10]> <html class="lt-ie10 no-js"  lang=""> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang=""> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Missing Maps</title>
    <meta name="description" content="">

    <link rel="canonical" href="/host/">
    <link rel="alternate" type="application/rss+xml" title="Missing Maps" href="/feed.xml">

    <link rel="stylesheet" href="/assets/styles/main.css">

    <link rel="author" type="text/plain" href="humans.txt" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <link href='https://fonts.googleapis.com/css?family=Raleway:800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:400|Hind:700,300,600' rel='stylesheet' type='text/css'>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/graphics/favicon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/graphics/favicon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/graphics/favicon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/graphics/favicon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/graphics/favicon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/graphics/favicon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/graphics/favicon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/graphics/favicon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/graphics/favicon/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/graphics/favicon/apple-touch-icon-180x180.png">
  <link rel="shortcut icon" href="/assets/graphics/favicon/favicon.ico">
  <link rel="icon" type="image/png" href="/assets/graphics/favicon/favicon-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/assets/graphics/favicon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/assets/graphics/favicon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/assets/graphics/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/assets/graphicsfavicon/favicon-32x32.png" sizes="32x32">

  <meta name="description" content="Putting the World's Vulnerable People on the Map">
  <meta itemprop="name" content="MissingMaps">
  <meta itemprop="description" content="Putting the World's Vulnerable People on the Map" >
  <meta itemprop="image" content="http://i.imgur.com/sSUhfmc.png" >
  <meta name="twitter:card" content="product" >
  <meta name="twitter:site" content="@publisher_handle" >
  <meta name="twitter:title" content="MissingMaps" >
  <meta name="twitter:description" content="Putting the World's Vulnerable People on the Map" >
  <meta name="twitter:creator" content="@author_handle" >
  <meta name="twitter:image" content="http://i.imgur.com/sSUhfmc.png" >

  <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Missing Maps" />
  </head>

  <body>
    <!--[if lt IE 11]>
      <div id="nocando">
        <h1>No can do!</h1>
        <p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      </div>
    <![endif]-->

    

<header>
	<div class="navbar-background">
		<div class="nav-icon">
			<a href="/">
				<img src="/assets/graphics/meta/MM-White.svg" width="94px">
			</a>
		</div>
		<div class="nav-list">
			<ul>
				
				
				<li class="nav-item nav-dropdown">CONTRIBUTE
					<div class="dropdown-content">
						
						<a href="/learn/"><div class="nav-item">LEARN TO MAP</div></a>
						
						<a href="/validate/"><div class="nav-item">LEARN TO VALIDATE</div></a>
						
						<a href="http://mapswipe.org/"><div class="nav-item">MAPSWIPE</div></a>
						
					</div>
				</li>
				
				
				
				<li class="nav-item nav-dropdown">EVENTS
					<div class="dropdown-content">
						
						<a href="/events/"><div class="nav-item">CURRENT EVENTS</div></a>
						
						<a href="/host/"><div class="nav-item">ORGANIZE AN EVENT</div></a>
						
						<a href="/host/#helper-map-contents"><div class="nav-item">MAPATHON SUPPORT</div></a>
						
					</div>
				</li>
				
				
				
				<a href="/about/">
					<li class="nav-item">ABOUT</li>
				</a>
				
				
				
				<a href="/blog/">
					<li class="nav-item">BLOG</li>
				</a>
				
				
				
				<li class="nav-item nav-dropdown">DISCOVER
					<div class="dropdown-content">
						
						<a href="http://www.missingmaps.org/users/"><div class="nav-item">USER PROFILES</div></a>
						
						<a href="http://www.missingmaps.org/leaderboards/"><div class="nav-item">LEADERBOARDS</div></a>
						
						<a href="/osmstats/"><div class="nav-item">OSMSTATS</div></a>
						
					</div>
				</li>
				
				
				|
				<li class="nav-item nav-dropdown">en
					<div class="dropdown-content">
						
						

						<a href="/cs/organizuj/">
							<div class="nav-item item-centered">cs</div>
						</a>
						
						

						<a href="/host/">
							<div class="nav-item item-centered">en</div>
						</a>
						
						

						<a href="/es/organizar/">
							<div class="nav-item item-centered">es</div>
						</a>
						
						

						<a href="/fr/organiser/">
							<div class="nav-item item-centered">fr</div>
						</a>
						
					</div>
				</li>
			</ul>
		</div>
	</div>
	<div class="resp-navbar navbar-background resp-nav-dropdown">
		<p>MENU</p>
		<div class="resp-dropdown-content">
			
			
			<a href="/learn/">
				<li class="nav-item">LEARN TO MAP</li>
			</a>
			
			<a href="/validate/">
				<li class="nav-item">LEARN TO VALIDATE</li>
			</a>
			
			<a href="http://mapswipe.org/">
				<li class="nav-item">MAPSWIPE</li>
			</a>
			
			
			
			<a href="/events/">
				<li class="nav-item">CURRENT EVENTS</li>
			</a>
			
			<a href="/host/">
				<li class="nav-item">ORGANIZE AN EVENT</li>
			</a>
			
			<a href="/host/#helper-map-contents">
				<li class="nav-item">MAPATHON SUPPORT</li>
			</a>
			
			
			
			<a href="/about/">
				<li class="nav-item">ABOUT</li>
			</a>
			
			
			
			<a href="/blog/">
				<li class="nav-item">BLOG</li>
			</a>
			
			
			
			<a href="http://www.missingmaps.org/users/">
				<li class="nav-item">USER PROFILES</li>
			</a>
			
			<a href="http://www.missingmaps.org/leaderboards/">
				<li class="nav-item">LEADERBOARDS</li>
			</a>
			
			<a href="/osmstats/">
				<li class="nav-item">OSMSTATS</li>
			</a>
			
			
			<div class="mobile-languages">
				 
				<a href="/cs/">
					<div class="lang">cs</div>
				</a>
				  
				<a href="/">
					<div class="lang">en</div>
				</a>
				  
				<a href="/es/">
					<div class="lang">es</div>
				</a>
				  
				<a href="/fr/">
					<div class="lang">fr</div>
				</a>
				 
			</div>
		</div>
	</div>
</header>

<script>
  document.querySelector("header").style.display = 'inline-block';
</script>

<div id="site-canvas">
  <div class="header-image header-hosting">
    <div class="dark-overlay center-text">
      <h1 class="title feature-header">Hosting a Mapathon</h1>
    </div>
  </div>
</div>

<div class="row host-container">
  <div class="center-text panel">
    <div class="about-textbox" style="padding-bottom:50px">
      <p> A mapathon is a great opportunity for volunteers to digitally connect and map the most vulnerable places in the developing world so that local and international Non-Governmental Organizations (NGO’s) can use these maps and data to better respond to crises affecting these areas. Up to date maps are important for the success of many humanitarian organizations around the world in responding to disasters. Through Missing Maps, you can volunteer your time to help create these maps, and have a real impact on the delivery of healthcare in the field. Check out the video below to learn more about what a mapathon is, and check out our resources on how to host one below. </p>
    </div>

    <div class="videobox large-6 small-12 columns">
      <iframe width="100%" height="300px" src="https://www.youtube.com/embed/pAcsCmvG2hs" frameborder="0" allowfullscreen=""></iframe>
      <div class="sub-head" style="text-align: center">What is a Mapathon?</div>
    </div>
    <div class="videobox large-6 small-12 columns">
      <iframe width="100%" height="300px" src="https://www.youtube.com/embed/njxePdKn1pI" frameborder="0" allowfullscreen=""></iframe>
      <div class="sub-head" style="text-align: center">How to Host a Mapathon</div>
    </div>
    <div class="host-button-box">
      <a href="#Preparation" class="btn btn-blue">PLANNING CHECKLIST</a>
      <a href="#EventDay" class="btn btn-blue">EVENT DAY CHECKLIST</a>
      <a href="#Materials" class="btn btn-blue">MATERIALS</a>
      <a href="https://docs.google.com/forms/d/174ZAAaqtRkJtyY2657RVAMbnvs8IzujWAShZy3y3_FY/viewform" class="btn btn-grn arw">REGISTER YOUR EVENT   <img src="/assets/graphics/meta/Arrow.svg" alt="" /></a>
    </div>

    <div id="Preparation">
      <div class="host-image">
        <img src="/assets/graphics/content/process/Checklist.svg" width="150" alt="Beepboop">
        <div class="sub-head">Planning Checklist</div>
        <p>Download a complete Step-by-Step Guide to Hosting a Mapathon from  <a href="#Materials">Training and Event Materials</a>.</p>
      </div>
      <div class="about-textbox">
        <div class="row">
          <div class="medium-offset-2 medium-8 columns">
            <div class="checklist">
              
              <p>Choose a date</p>
              
              <p>Recruit volunteers to help</p>
              
              <p>Book a space</p>
              
              <p>Register your event <a target='_blank' href='https://docs.google.com/forms/d/e/1FAIpQLScdvsMHLor8mrDrHa-BQs2XzFb96vIrx3u--LHXWd1g7RncPg/viewform'>here</a></p>
              
              <p>Recruit participants using Eventbrite</p>
              
              <p>Pick a task using the <a target='_blank' href='http://tasks.hotosm.org/?sort_by=priority&direction=asc&search=missing+maps'>Tasking Manager</a></p>
              
              <p>Ensure strong Wi-Fi</p>
              
              <p>Check that the <a target='_blank' href='http://tasks.hotosm.org/?sort_by=priority&direction=asc&search=missing+maps'>Tasking Manager</a> passes your location's firewall</p>
              
              <p>Tables and chairs</p>
              
              <p>Projector & audio visual equipment</p>
              
              <p>Laptops for all participants (tablets are not compatible)</p>
              
              <p>Mice (if possible) for all participants</p>
              
              <p>Make sure you have contact info for your event spaces tech and support staff</p>
              
              <p>Extra extension cords</p>
              
              <p>Print materials</p>
              
              <p>Order snacks</p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="EventDay">
      <div class="host-image">
        <img src="/assets/graphics/content/process/Checklist-2.svg" width="150" alt="Beepboop">
        <div class="sub-head">Event Day Checklist</div>
        <p>Download a complete Step-by-Step Guide to Hosting a Mapathon from  <a href="#Materials">Training and Event Materials</a>.</p>
      </div>
      <div class="about-textbox">
        <div class="row">
          <div class="medium-offset-2 medium-8 columns">
            <div class="checklist">
              
              <p>Set up room</p>
              
              <p>Test wifi and <a target='_blank' href='http://tasks.hotosm.org/?sort_by=priority&direction=asc&search=missing+maps'>Tasking Manager</a> access on both pc and mac: note, mapping software is not compatible with Internet Explorer</p>
              
              <p>Tape extension cords to the floor for safety</p>
              
              <p>Set up registration table</p>
              
              <p>Put out printed resources</p>
              
              <p>Get presentations ready</p>
              
              <p>Set up snacks</p>
              
              <p>Have fun mapping!</p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="Materials">
      <div class="host-image">
        <img src="/assets/graphics/content/process/Checklist-3.svg" width="150" alt="Beepboop">
        <div class="sub-head">Training and Event Materials</div>
      </div>
      <div class="host-materials">
        <ul>
          
          <li><a href="/assets/downloads/mapathon-materials/english/How_to_Host_a_Mapathon_EN.pdf">Step-by-Step Guide to Hosting a Mapathon</a></li>
          
          <li><a href="/assets/downloads/mapathon-materials.zip">Everything else you need to run a successful mapathon! &nbsp; <i class='fa fa-file-archive-o' aria-hidden='true'></i> (zip folder)</a></li>
          
        </ul>
      </div>
    </div>
    <div id="helper-map">
        
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/css/foundation.min.css"> -->
<div id="helper-map-contents">
  <div class="row">
    <div class="columns">
        <div><img src="/assets/graphics/content/process/helper.svg"/></div>
        <div class="sub-head">Mapathon Support</div>
        <div class="about-textbox" style="padding-bottom:20px;text-align:center;">
          <p style="text-align: center">The Missing Maps team can support you in a number of ways. Please reach out to us via Twitter or Facebook for help with task selection or if you have any questions.  Additionally, volunteer mapathon supporters are located around the globe! Please use the below map to connect to someone in your area. You can filter by language using the dropdowns.  Zooming the map will help you narrow down the list to people in your area.</p><br>
          <p>Volunteer to help out by adding your contact info to the map via the button below. To remove or edit your data please send an <a href='mailto:rebecca.firth@hotosm.org'>email</a>.</p>
          <p><a target="_blank" href="https://goo.gl/forms/QyVa9mnw0rPuHcTn1" class="btn btn-blue">Sign up</a></p>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="small-12 medium-offset-1 medium-10 large-offset-2 large-8">
        <div id="map"></div>
      </div>
    </div>

    <br>

    <div class="row">
      <div class="medium-offset-1 small-10 medium-offset-1 medium-10 large-offset-1 large-10">
          <div class="row">
            <div class="small-6 medium-offset-1 medium-5 columns">
              <label>Filter by a language
                <select id="language-filter">
                  <option value="all">All</option>
                  <!-- ... -->
                </select>
              </label>
            </div>
            <div class="small-6 medium-5 end columns">
              <label>Filter by type
                <select id="type-filter">
                    <option value="all">All</option>
                    <option value="Remote">Remote</option>
                    <option value="In Person">In Person</option>
                </select>
              </label>
            </div>
          </div>
      </div>
    </div>

    <br>

    <div id="contact-cards" class="row small-up-1 medium-up-2 large-up-3" data-equalize-by-row="true" data-equalizer>
      <!-- ... -->
    </div>


    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/what-input/4.0.6/what-input.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/js/foundation.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <!-- <script src="https://use.fontawesome.com/eb154e6e77.js"></script> -->

  <script>
    $(document).foundation();
    $(document).ready(function() {
      var languageLookup = {
          "aa": "Afar",
          "ab": "Abkhazian",
          "ae": "Avestan",
          "af": "Afrikaans",
          "ak": "Akan",
          "am": "Amharic",
          "an": "Aragonese",
          "ar": "Arabic",
          "as": "Assamese",
          "av": "Avaric",
          "ay": "Aymara",
          "az": "Azerbaijani",
          "ba": "Bashkir",
          "be": "Belarusian",
          "bg": "Bulgarian",
          "bh": "Bihari languages",
          "bi": "Bislama",
          "bm": "Bambara",
          "bn": "Bengali",
          "bo": "Tibetan",
          "br": "Breton",
          "bs": "Bosnian",
          "ca": "Catalan/ Valencian",
          "ce": "Chechen",
          "ch": "Chamorro",
          "co": "Corsican",
          "cr": "Cree",
          "cs": "Czech",
          "cu": "Church Slavic",
          "cv": "Chuvash",
          "cy": "Welsh",
          "da": "Danish",
          "de": "German",
          "dv": "Divehi/ Dhivehi/ Maldivian",
          "dz": "Dzongkha",
          "ee": "Ewe",
          "el": "Greek",
          "en": "English",
          "eo": "Esperanto",
          "es": "Spanish/ Castilian",
          "et": "Estonian",
          "eu": "Basque",
          "fa": "Persian",
          "ff": "Fulah",
          "fi": "Finnish",
          "fj": "Fijian",
          "fo": "Faroese",
          "fr": "French",
          "fy": "Western Frisian",
          "ga": "Irish",
          "gd": "Gaelic",
          "gl": "Galician",
          "gn": "Guarani",
          "gu": "Gujarati",
          "gv": "Manx",
          "ha": "Hausa",
          "he": "Hebrew",
          "hi": "Hindi",
          "ho": "Hiri Motu",
          "hr": "Croatian",
          "ht": "Haitian",
          "hu": "Hungarian",
          "hy": "Armenian",
          "hz": "Herero",
          "ia": "Interlingua",
          "id": "Indonesian",
          "ie": "Interlingue/ Occidental",
          "ig": "Igbo",
          "ii": "Sichuan Yi/ Nuosu",
          "ik": "Inupiaq",
          "io": "Ido",
          "is": "Icelandic",
          "it": "Italian",
          "iu": "Inuktitut",
          "ja": "Japanese",
          "jv": "Javanese",
          "ka": "Georgian",
          "kg": "Kongo",
          "ki": "Kikuyu/ Gikuyu",
          "kj": "Kuanyama/ Kwanyama",
          "kk": "Kazakh",
          "kl": "Kalaallisut/ Greenlandic",
          "km": "Central Khmer",
          "kn": "Kannada",
          "ko": "Korean",
          "kr": "Kanuri",
          "ks": "Kashmiri",
          "ku": "Kurdish",
          "kv": "Komi",
          "kw": "Cornish",
          "ky": "Kirghiz/ Kyrgyz",
          "la": "Latin",
          "lb": "Luxembourgish/ Letzeburgesch",
          "lg": "Ganda",
          "li": "Limburgan",
          "ln": "Lingala",
          "lo": "Lao",
          "lt": "Lithuanian",
          "lu": "Luba-Katanga",
          "lv": "Latvian",
          "mg": "Malagasy",
          "mh": "Marshallese",
          "mi": "Maori",
          "mk": "Macedonian",
          "ml": "Malayalam",
          "mn": "Mongolian",
          "mr": "Marathi",
          "ms": "Malay",
          "mt": "Maltese",
          "my": "Burmese",
          "na": "Nauru",
          "nb": "Bokmål, Norwegian",
          "nd": "Ndebele",
          "ne": "Nepali",
          "ng": "Ndonga",
          "nl": "Dutch/ Flemish",
          "nn": "Nynorsk",
          "no": "Norwegian",
          "nr": "Ndebele",
          "nv": "Navajo",
          "ny": "Chichewa",
          "oc": "Occitan",
          "oj": "Ojibwa",
          "om": "Oromo",
          "or": "Oriya",
          "os": "Ossetian",
          "pa": "Panjabi/ Punjabi",
          "pi": "Pali",
          "pl": "Polish",
          "ps": "Pushto/ Pashto",
          "pt": "Portuguese",
          "qu": "Quechua",
          "rm": "Romansh",
          "rn": "Rundi",
          "ro": "Romanian/ Moldovan",
          "ru": "Russian",
          "rw": "Kinyarwanda",
          "sa": "Sanskrit",
          "sc": "Sardinian",
          "sd": "Sindhi",
          "se": "Northern Sami",
          "sg": "Sango",
          "si": "Sinhala/ Sinhalese",
          "sk": "Slovak",
          "sl": "Slovenian",
          "sm": "Samoan",
          "sn": "Shona",
          "so": "Somali",
          "sq": "Albanian",
          "sr": "Serbian",
          "ss": "Swati",
          "st": "Sotho, Southern",
          "su": "Sundanese",
          "sv": "Swedish",
          "sw": "Swahili",
          "ta": "Tamil",
          "te": "Telugu",
          "tg": "Tajik",
          "th": "Thai",
          "ti": "Tigrinya",
          "tk": "Turkmen",
          "tl": "Tagalog",
          "tn": "Tswana",
          "to": "Tonga",
          "tr": "Turkish",
          "ts": "Tsonga",
          "tt": "Tatar",
          "tw": "Twi",
          "ty": "Tahitian",
          "ug": "Uighur/ Uyghur",
          "uk": "Ukrainian",
          "ur": "Urdu",
          "uz": "Uzbek",
          "ve": "Venda",
          "vi": "Vietnamese",
          "vo": "Volapük",
          "wa": "Walloon",
          "wo": "Wolof",
          "xh": "Xhosa",
          "yi": "Yiddish",
          "yo": "Yoruba",
          "za": "Zhuang/ Chuang",
          "zh": "Chinese",
          "zu": "Zulu"
        }

        // use provided contact info to make contact icons/links
        var contactInfo = function(email,phone,skype,twitter) {
          // array holding person's various contact info
          var cardContact = []
          // conditional statements, pushing to array contact info provided by person
            if(email.replace(/ /g,'').length > 0) {
              var emailHTML = '<i class="fa fa-fw fa-envelope" aria-hidden="true"></i><a href="mailto:' + email + '">&nbsp; ' + email  + '</a>';
              cardContact.push(emailHTML)
            }
            if(phone.replace(/ /g,'').length > 0) {
              var phoneHTML = '<i class="fa fa-fw fa-phone" aria-hidden="true"></i>&nbsp; ' + phone;
              cardContact.push(phoneHTML)
            }
            if(skype.replace(/ /g,'').length > 0) {
              var skypeHTML = '<i class="fa fa-fw fa-skype" aria-hidden="true" ></i>&nbsp; ' + skype;
              cardContact.push(skypeHTML)
            }
            if(twitter.replace(/ /g,'').length > 0) {
              var twitterHTML = '<i class="fa fa-fw fa-twitter" aria-hidden="true"></i><a target="_blank" href="https://twitter.com/' + twitter + '">&nbsp; ' + twitter + '</a>';
              cardContact.push(twitterHTML)
            }
          return cardContact.join(" </br>");
        }

  var osmHtml = function(username) {
    return '<a target="_blank" href="http://www.openstreetmap.org/user/' + username + '"><i class="fa fa-fw fa-user-circle-o" aria-hidden="true"></i></a>';
  }


  // get the contact data from the google spreadhsheet
  var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/1eWf7ZrUmzqNOBmv-mNdZqssFPwDyvNLQzxFXEGaMgB4/pubhtml?gid=1040223163&single=true';
  function init() {
    Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true } )
  }

  // column headers from Google sheet holding contact data
  var nameKey = 'Name';
  var emailKey = 'Email';
  var phoneKey = 'Phone';
  var skypeKey = 'Skype';
  var twitterKey = 'Twitter';
  var osmKey = 'OSM username';
  var languageKey = 'Languages';
  var supportKey = 'Support type';
  var locationKey = 'Location';
  var noteKey = 'Notes';

  function supportClass(value) {
    return 'help_' + value.replace(/\s/g,'').toLowerCase();
  }

  function showInfo(data, tabletop) {
    validMarkers = [];
    allLanguages = [];
    // add a LatLng object and an ID to each item in the dataset
    data.forEach(function(d, i) {
      var coordinates = d[locationKey].replace(/\s/g,'').split('/');
      // TODO: improve the process for confirming a valid latLng
      if(coordinates.length == 2) {
        coordinates[0] = parseFloat(coordinates[0])
        coordinates[1] = parseFloat(coordinates[1])
        if(!isNaN(coordinates[0]) && !isNaN(coordinates[1])) {
          d.LatLng = new L.LatLng(parseFloat(coordinates[0]), parseFloat(coordinates[1]));
          d.id = i;
          d.inside = false; // this will keep track of if a person is "In person" and inside the map bounds
          d[supportKey] = d[supportKey].split(',');
          $.each(d[supportKey], function(i, item) {
            d[supportKey][i] = item.trim();
          })
          d[languageKey] = d[languageKey].replace(/\s/g,'').toLowerCase().split(';');
          validMarkers.push(d);
          $.each(d[languageKey], function(i,lang){
            if($.inArray(lang, allLanguages) == -1) {
              if(lang !== "") {
                allLanguages.push(lang);
              }
            }
          });
        }
      }
    });

    allLanguages.sort();
    $.each(allLanguages, function(i, lang) {
      if(languageLookup[lang] !== undefined) {
        var html = '<option value="' + lang + '">' + languageLookup[lang] + '</option>';
        $('#language-filter').append(html);
      }
    });



    map = L.map('map', { maxZoom: 13, minZoom: 2, worldCopyJump: true }).setView([15, 0], 2);


    L.tileLayer('http://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic3RhdGVvZnNhdGVsbGl0ZSIsImEiOiJlZTM5ODI5NGYwZWM2MjRlZmEyNzEyMWRjZWJlY2FhZiJ9.omsA8QDSKggbxiJjumiA_w.', {
    	attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // initialize the SVG layer for D3 drawn markers
    L.svg().addTo(map);
    // pick up the SVG from the map object
    var svg = d3.select('#map').select('svg');
    markersGroup = svg.append('g').attr('id', 'markers').attr('class', 'leaflet-zoom-hide');

    // add markers to the map for each contact
    mappedContacts = d3.select('svg #markers').selectAll('text').data(validMarkers)
      .enter().append('text')
      .text('\uf276')
      .attr('font-family', 'FontAwesome')
      .attr('class', function(d) {
        if(d[supportKey].length === 1) {
          return supportClass(d[supportKey][0]);
        } else { return 'help_all'; }
      })
      .classed('mapmarker', true)
      .on('click', function(d) {
        var lang = [];
        $.each(d[languageKey], function(i, item){ lang.push(languageLookup[item]); });
        var support = [];
        $.each(d[supportKey], function(i, item) {
          support.push('<span class="' + supportClass(item) + '">' + item + '</span>');
        });
        var supportHtml = support.join(', ');
        var htmlpop = '<div><b>' + osmHtml(d[osmKey]) + '&nbsp; ' + d[nameKey] + '</b></div>' +
            '<div>' +
            supportHtml + '<br>' +
            contactInfo(d[emailKey], d[phoneKey], d[skypeKey], d[twitterKey]) + '<br>' +
            '<i class="fa fa-fw fa-language" aria-hidden="true"></i>&nbsp; ' + lang.join('; ') + '<br>' +
            '<em>' + d[noteKey] + '</em>' +
            '</div>';
        var popup = L.popup({closeOnClick: false})
          .setLatLng(d.LatLng)
          .setContent(htmlpop)
          .openOn(map);
      });

    // when map view changes adjust the locations of the svg circles
    updatemarker = function() {
      mappedContacts.attr('x',function(d) { return map.latLngToLayerPoint(d.LatLng).x; });
      mappedContacts.attr('y',function(d) { return map.latLngToLayerPoint(d.LatLng).y; });
    }
    // set the starting locations of the markers
    updatemarker();

    filter = function(){

      var filteredData = validMarkers;

      var bounds = map.getBounds();
      filteredData = filteredData.filter(function(d) {
        d.inside = bounds.contains(d.LatLng);
        if($.inArray('Remote', d[supportKey]) !== -1) {
          // if they offer 'Remote', keep them in the contact cards
          // (we will not displau the 'In Person' from the displayed text for those oustide and offering both)
          return true;
        } else {
          // if they are inside the bounds they can still be included
          return bounds.contains(d.LatLng);
        }

      });

      var language = $('#language-filter').find(':selected').val();
      var type = $('#type-filter').find(':selected').val();
      if(language !== 'all') {
        filteredData = filteredData.filter(function(d) {
          return ($.inArray(language, d[languageKey]) !== -1);
        });
      }
      if(type !== 'all') {
        filteredData = filteredData.filter(function(d) {
          // return ($.inArray(type, d[supportKey]) !== -1);
          if(type === 'In Person') {
            return (($.inArray(type, d[supportKey]) !== -1) && d.inside);
          } else {
            return ($.inArray(type, d[supportKey]) !== -1);
          }
        });
      }
      toggleMarkerVis(language, type);
      drawCards(filteredData);
    }

    drawCards = function(list) {
      if(list.length == 0){
        $('#no-match').show();
      } else {
        $('#no-match').hide();
      }
      var contactCards = d3.select('#contact-cards').selectAll('div.column').data(list, function(d) { return d.id; });
      // UPDATE
      contactCards.each(function(d) {
        // this and some similar stuff a little further down is a messy bit of code
        // that if someone is offering both remote and in person support and their marker
        // is outside the current map extent, then the contact card will only show the remote
        var support = [];
        $.each(d[supportKey], function(i, item) {
          if( (item === 'Remote') || (d.inside === true && item === 'In Person')) {
            support.push('<span class="' + supportClass(item) + '">' + item + '</span>');
          }
        });
        d3.select(this).select('span.support-types').html(support.join(', '));
      });

      // ENTER
      contactCards.enter().append('div')
          .attr('class', 'column')
          .html(function(d) {
              var lang = [];
              var support = [];
              $.each(d[supportKey], function(i, item) {
                if( (item === 'Remote') || (d.inside === true && item === 'In Person')) {
                  support.push('<span class="' + supportClass(item) + '">' + item + '</span>');
                }
              });
              $.each(d[languageKey], function(i, item) { lang.push(languageLookup[item]); });
              var html = '<div class="card" data-equalizer-watch>' +
                    '<div class="card-section">' +
                      '<h5>' + osmHtml(d[osmKey]) + '&nbsp; ' + d[nameKey] + '</h5>' +
                      '<p><small><span class="support-types">' + support.join(', ') + '</span><br>' +
                      contactInfo(d[emailKey], d[phoneKey], d[skypeKey], d[twitterKey]) + '<br>' +
                      '<i class="fa fa-fw fa-language" aria-hidden="true"></i>&nbsp; ' + lang.join('; ') + '<br>' +
                      '<em>' + d[noteKey] + '</em>' +
                      '</small></p>' +
                    '</div>' +
                  '</div>';
              return html;
            })
      // EXIT
      contactCards.exit().remove();

      $('#contact-cards').foundation('destroy');
      new Foundation.Equalizer($('#contact-cards'));

    }

    toggleMarkerVis = function(language, type) {
      mappedContacts.each(function(d) {
        if( (($.inArray(language, d[languageKey]) !== -1) || (language == 'all')) && ( ($.inArray(type, d[supportKey]) !== -1) || (type == 'all'))   ){
          d3.select(this).classed('no-language', false);
        } else {
          d3.select(this).classed('no-language', true);
        }
      });
    }


  // when map view changes check what markers are visible in the extent
  map.on('load moveend zoomend viewreset', filter);
  // filter();

  // when map view changes adjust the locations of the markers
  map.on('zoom move viewreset', updatemarker);

  $('#language-filter').change(function(){
    filter();
  })
  $('#type-filter').change(function(){
    filter();
  })

  filter();

  }

  // start things up
  window.addEventListener('DOMContentLoaded', init)
  });
  </script>

</div>

    </div>
  </div>
</div>



    

<footer class="site-footer">
  <div class="wrapper">
    <div class="footer-container">
      <div class="center-text">
        <div class="row">
          <div class="title section-header">Contact Us</div>
        </div>
        <a href="https://twitter.com/TheMissingMaps" class="btn btn-blue"><i class="fa fa-twitter fa-fw"></i> TWITTER </a>
        <a href="https://www.facebook.com/TheMissingMaps" class="btn btn-blue"><i class="fa fa-facebook fa-fw"></i> FACEBOOK </a>
        <a href="https://github.com/MissingMaps" class="btn btn-blue"><i class="fa fa-github fa-fw"></i> GITHUB </a>
        <a href="http://wiki.openstreetmap.org/wiki/Missing_Maps_Project" class="btn btn-blue"><i class="fa fa-newspaper-o fa-fw"></i> WIKI </a>
        <a href="https://www.flickr.com/photos/126636925@N06/" class="btn btn-blue"><i class="fa fa-flickr fa-fw"></i> FLICKR </a>
        <a href="https://www.instagram.com/themissingmaps/" class="btn btn-blue"><i class="fa fa-instagram fa-fw"></i> INSTAGRAM </a>
        <a href="mailto:info@hotosm.org" class="btn btn-blue"><i class="fa fa-envelope fa-fw"></i> EMAIL </a>
        <a href="/assets/downloads/mapathon-materials/english/MissingMapsMediaGuideGeneral_Web.png" class="btn btn-blue"><i class="fa fa-microphone fa-fw"></i> MEDIA GUIDE </a>
      </div>
      <div class="footer-mm center-text">
        CC-BY Missing Maps
      </div>
    </div>
  </div>
</footer>


    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-55969124-1');ga('send','pageview');
    </script>

    <!-- build:js assets/scripts/main.js -->
    <script src="/assets/scripts/main.min.js"></script>
    <!-- endbuild -->

  </body>

</html>
